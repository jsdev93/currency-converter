<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Live Currency Converter</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>ðŸ’± Live Currency</h1>
      <p>Real-time Currency Converter</p>
    </div>

    <div class="toggle-section">
      <div class="toggle-container">
        <span class="toggle-label">Enable Conversion</span>
        <div class="toggle-switch active" id="enableToggle">
          <div class="toggle-slider"></div>
        </div>
      </div>
      
      <div class="toggle-container" style="margin-top: 12px;">
        <span class="toggle-label">Add 5% Processing Fee</span>
        <div class="toggle-switch" id="processingFeeToggle">
          <div class="toggle-slider"></div>
        </div>
      </div>
      
      <div class="toggle-container" style="margin-top: 12px;">
        <span class="toggle-label">Add Tariff</span>
        <div class="toggle-switch" id="tariffToggle">
          <div class="toggle-slider"></div>
        </div>
      </div>
      
      <div class="tariff-input-container" style="margin-top: 8px; display: flex; align-items: center; gap: 8px;">
        <label for="tariffPercentage" style="font-size: 12px; opacity: 0.8;">Tariff %:</label>
        <input 
          type="number" 
          id="tariffPercentage" 
          min="0" 
          max="100" 
          step="0.1" 
          value="16.5" 
          style="
            width: 60px; 
            padding: 4px 6px; 
            border: 1px solid rgba(255,255,255,0.3); 
            border-radius: 4px; 
            background: rgba(255,255,255,0.1); 
            color: white; 
            font-size: 12px;
            text-align: center;
          "
        />
        <span style="font-size: 12px; opacity: 0.6;">%</span>
      </div>
    </div>

    <div class="advanced-settings-section">
      <div class="section-header" id="urlToggle">
        <span class="section-title">URL Access Control</span>
        <span class="collapse-icon">â–¼</span>
      </div>
      
      <div class="advanced-content" id="urlContent" style="display: none;">
        <div class="url-mode-container">
          <label class="radio-container">
            <input type="radio" name="urlFilterMode" value="disabled" id="urlModeDisabled" checked>
            <span class="radio-label">Allow All URLs</span>
          </label>
          
          <label class="radio-container">
            <input type="radio" name="urlFilterMode" value="allowlist" id="urlModeAllowlist">
            <span class="radio-label">Allowlist Only</span>
          </label>
          
          <label class="radio-container">
            <input type="radio" name="urlFilterMode" value="blocklist" id="urlModeBlocklist">
            <span class="radio-label">Block Specific</span>
          </label>
        </div>
        
        <div class="url-input-container" id="allowlistContainer" style="display: none;">
          <label class="url-input-label">Allowed URLs (one per line):</label>
          <textarea id="allowlistUrls" class="url-textarea" placeholder="ebay.com&#10;amazon.com&#10;*.example.com"></textarea>
        </div>
        
        <div class="url-input-container" id="blocklistContainer" style="display: none;">
          <label class="url-input-label">Blocked URLs (one per line):</label>
          <textarea id="blocklistUrls" class="url-textarea" placeholder="chrome://&#10;chrome-extension://&#10;*.ads.com"></textarea>
        </div>
      </div>
    </div>

    <div class="advanced-settings-section">
      <div class="section-header" id="advancedToggle">
        <span class="section-title">Advanced Filters</span>
        <span class="collapse-icon">â–¼</span>
      </div>
      
      <div class="advanced-content" id="advancedContent" style="display: none;">
        <div class="selector-mode-container">
          <label class="radio-container">
            <input type="radio" name="selectorFilterMode" value="disabled" id="selectorModeDisabled" checked>
            <span class="radio-label">All Input Elements</span>
          </label>
          
          <label class="radio-container">
            <input type="radio" name="selectorFilterMode" value="allowlist" id="selectorModeAllowlist">
            <span class="radio-label">Specific Elements Only</span>
          </label>
          
          <label class="radio-container">
            <input type="radio" name="selectorFilterMode" value="blocklist" id="selectorModeBlocklist">
            <span class="radio-label">Exclude Elements</span>
          </label>
        </div>
        
        <div class="selector-input-container" id="allowedSelectorsContainer" style="display: none;">
          <label class="selector-input-label">Allowed CSS Selectors (one per line):</label>
          <textarea id="allowedSelectors" class="selector-textarea" placeholder=".price&#10;#price-input&#10;[data-price]&#10;.currency-field"></textarea>
          <div class="selector-help">Examples: .price, #total, [data-currency], input.amount</div>
        </div>
        
        <div class="selector-input-container" id="blockedSelectorsContainer" style="display: none;">
          <label class="selector-input-label">Blocked CSS Selectors (one per line):</label>
          <textarea id="blockedSelectors" class="selector-textarea" placeholder=".advertisement&#10;.ad&#10;#popup&#10;.modal"></textarea>
          <div class="selector-help">Examples: .ad, #popup, [data-ads], .hidden-field</div>
        </div>
      </div>
    </div>

    <div class="currency-selection">
      <div class="currency-row">
        <div class="currency-input">
          <label for="fromCurrency">From:</label>
          <select id="fromCurrency" class="currency-select">
            <option value="JPY">ðŸ‡¯ðŸ‡µ Japanese Yen (JPY)</option>
            <option value="USD">ðŸ‡ºðŸ‡¸ US Dollar (USD)</option>
            <option value="EUR">ðŸ‡ªðŸ‡º Euro (EUR)</option>
            <option value="GBP">ðŸ‡¬ðŸ‡§ British Pound (GBP)</option>
            <option value="CNY">ðŸ‡¨ðŸ‡³ Chinese Yuan (CNY)</option>
            <option value="KRW">ðŸ‡°ðŸ‡· Korean Won (KRW)</option>
            <option value="CAD">ðŸ‡¨ðŸ‡¦ Canadian Dollar (CAD)</option>
            <option value="AUD">ðŸ‡¦ðŸ‡º Australian Dollar (AUD)</option>
            <option value="CHF">ðŸ‡¨ðŸ‡­ Swiss Franc (CHF)</option>
            <option value="SGD">ðŸ‡¸ðŸ‡¬ Singapore Dollar (SGD)</option>
          </select>
        </div>
        
        <div class="swap-button" id="swapCurrencies">
          <span>â‡„</span>
        </div>
        
        <div class="currency-input">
          <label for="toCurrency">To:</label>
          <select id="toCurrency" class="currency-select">
            <option value="USD">ðŸ‡ºðŸ‡¸ US Dollar (USD)</option>
            <option value="JPY">ðŸ‡¯ðŸ‡µ Japanese Yen (JPY)</option>
            <option value="EUR">ðŸ‡ªðŸ‡º Euro (EUR)</option>
            <option value="GBP">ðŸ‡¬ðŸ‡§ British Pound (GBP)</option>
            <option value="CNY">ðŸ‡¨ðŸ‡³ Chinese Yuan (CNY)</option>
            <option value="KRW">ðŸ‡°ðŸ‡· Korean Won (KRW)</option>
            <option value="CAD">ðŸ‡¨ðŸ‡¦ Canadian Dollar (CAD)</option>
            <option value="AUD">ðŸ‡¦ðŸ‡º Australian Dollar (AUD)</option>
            <option value="CHF">ðŸ‡¨ðŸ‡­ Swiss Franc (CHF)</option>
            <option value="SGD">ðŸ‡¸ðŸ‡¬ Singapore Dollar (SGD)</option>
          </select>
        </div>
      </div>
    </div>

    <div class="rate-section">
      <div class="rate-info">
        <div class="rate-value" id="rateValue">Loading...</div>
        <div class="rate-description" id="rateDescription">1 JPY = USD</div>
        <div class="last-updated" id="lastUpdated"></div>
      </div>
    </div>

    <div class="example-section">
      <div class="example-title">How it works:</div>
      <div class="example-item">Type ANY number in an input field â†’ see From to conversion</div>
      <div class="example-item">Real-time conversion as you type</div>
      <div class="example-item">Advanced Filters overrides all fields</div>
    </div>
  </div>

  <script src="popup.js"></script>
</body>
</html>